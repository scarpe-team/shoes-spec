---
# Auto-imported from scarpe/coffee.rb
# TODO: Add meaningful assertions
----------- app code
Shoes.app title: "Sleepless", width: 80, height: 120 do
  @push = button "â˜•ï¸"
  @note = para "ğŸ˜ª"
  @push.click {
    if @pid.nil?
      @pid = spawn("caffeinate -d")
      @note.replace "ğŸ˜³"
    else
      Process.kill 9, @pid
      @pid = nil
      @note.replace "ğŸ˜ª"
    end
  }
end

----------- test code
# DISABLED: Encoding issues + spawns system process (caffeinate)
skip "coffee.sspec disabled - encoding issues with emoji + spawns caffeinate process"

# Original test:
# html = dom_html
# assert html.include?("â˜•ï¸") || html.include?("â˜•"), "Expected coffee button"
# assert html.include?("ğŸ˜ª"), "Expected sleepy emoji"
