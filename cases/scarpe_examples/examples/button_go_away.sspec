---
----------- app code
Shoes.app do
  @b = button "Go away, button"
  @b.click {
    @b.destroy
  }
end

----------- test code
btn = button("@b")

# Button should exist initially
assert_equal "Go away, button", btn.text

# Click should destroy the button
btn.trigger_click

# After destroy, the button should no longer be in the DOM
html = dom_html
refute html.include?("Go away, button"), "Button should be destroyed after click"
